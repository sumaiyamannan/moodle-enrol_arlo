query editor_weka_weka(
  $component: param_component!
  $area: param_area!
  $instance_id: param_integer
  # File item's draft id. As a rule of thumbs, before fetching the editor with files
  # all the files within file area should had been moved to a proper draft area.
  $draft_id: param_integer
) {
  editor: editor_weka_editor(
    component: $component
    area: $area
    instance_id: $instance_id
  ) {
    __typename
    showtoolbar(component: $component, area: $area)
    extensions(component: $component, area: $area) {
      __typename
      name
      tuicomponent
      options
    }
    context_id
    repository_data {
      __typename
      repository_id
      url
    }

    files(
      # List of files will only served the draft files - not the area files.
      component: "user"
      file_area: "draft"
      item_id: $draft_id
    ) {
      __typename
      file_size
      filename
      url(force_download: true)
      mime_type
      media_type
    }
  }
}
